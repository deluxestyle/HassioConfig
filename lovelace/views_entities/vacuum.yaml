# lovelace_gen

# -----------------------------
  title: Staubsauger
  path: vacuum
  icon: mdi:robot-vacuum
  cards:
    - type: 'custom:vertical-stack-in-card'
      cards:
        - type: custom:vacuum-card
          entity: vacuum.roborock_vacuum
          style: |
            :host .toolbar {
              background: var( --ha-card-background, var(--card-background-color, white) );
            }
          compact_view: true
          actions:
            - name: Map
              icon: mdi:map-legend
              service: browser_mod.popup
              service_data:
                title: Map
                card:
                  type: picture-entity
                  entity: camera.xiaomi_cloud_map_extractor
                  camera_view: live
                  show_state: false
                  show_name: false
          stats:
            default:
              - attribute: filter_left
                unit: Stunden
                subtitle: Filter
              - attribute: side_brush_left
                unit: Stunden
                subtitle: Seitenbürste
              - attribute: main_brush_left
                unit: Stunden
                subtitle: Hauptbürste
              - attribute: sensor_dirty_left
                unit: Stunden
                subtitle: Sensoren
            cleaning:
              - attribute: cleaned_area
                unit: m2
                subtitle: Bereich
              - attribute: cleaning_time
                unit: minutes
                subtitle: Dauer
        - type: custom:xiaomi-vacuum-map-card
          entity: vacuum.roborock_vacuum
          map_camera: camera.xiaomi_cloud_map_extractor
          camera_calibration: true 
          language: de  
          # zones:
          #   - [[26980,20957,29977,22571,1]] # Küche
          #   - [[20461,20529,26882,24415,1]] # Wohnzimmer
          #   - [[26849,22670,30504,26259,1]] # Schlafzimmer
          #   - [[24840,24382,27046,27641,1]] # Flur
          #   - [[26915,26324,29713,27971,1]] # Bad
    - type: entities
      entities:
        - entity: automation.xiaomi_staubsauger_abwesenheit
          name: Saugen bei Abwesenheit
          icon: mdi:account-off
          tap_action: 
            action: toggle
        - type: custom:fold-entity-row
          head:
            type: section
            label: Einstellungen
          padding: 5
          entities:
            - entity: automation.xiaomi_staubsauger_neustart
              name: Neustarten (Bürste blockiert)
              icon: mdi:restart
              tap_action: 
                action: toggle
            - entity: automation.xiaomi_staubsauger_error_stop
              name: Deaktivieren (b. Fehler)
              icon: mdi:restart-off
              tap_action: 
                action: toggle
            - counter.xiaomo_errors
            - entity: script.xiaomi_vacuum_sensor_cleaned
              name: Sensor gereinigt
              tap_action: 
                action: toggle
            - entity: script.xiaomi_vacuum_mainbrush_changed
              name: Hauptbürste gewechselt
              tap_action: 
                action: toggle
            - entity: script.xiaomi_vacuum_sidebrush_changed
              name: Seitenbürst gewechselt
              tap_action: 
                action: toggle
            - entity: script.xiaomi_vacuum_filter_changed
              name: Filter gereinigt
              tap_action: 
                action: toggle
        - type: custom:fold-entity-row
          head:
            type: section
            label: Mitteilungen
          padding: 5
          entities:
            - entity: automation.xiaomi_staubsauger_fehler
              name: Fehler
              tap_action: 
                action: toggle
            - entity: automation.xiaomi_staubsauger_fertig
              name: Reinigung abgeschlossen
              tap_action: 
                action: toggle
            - entity: automation.xiaomi_staubsauger_gestartet
              name: Staubsauger gestartet
              tap_action: 
                action: toggle
            - entity: automation.xiaomi_staubsauger_filter_kritisch
              name: Filter kritisch
              tap_action: 
                action: toggle
            - entity: automation.xiaomi_staubsauger_sensor_kritisch
              name: Sensor kritisch
              tap_action: 
                action: toggle  