# lovelace_gen

title: System

views:
  - title: System
    path: system
    icon: mdi:settings-outline
    cards:
      - type: entities
        entities:
          - type: 'custom:paper-buttons-row'
            buttons:
              - entity: script.1570443737111
                name: Mitteilung löschen
                style:
                  text:  
                    color: var(--primary-text-color)
              - entity: script.1570439203461
                name: Badge löschen
                style:
                  text:  
                    color: var(--primary-text-color)
      - type: entities  
        entities:
          - entity: switch.pi_hole
            icon: mdi:pi-hole
            tap_action: 
              action: call-service
              service: browser_mod.popup
              service_data:
                deviceID: this
                title: PI-Hole Stats
                card:
                  type: custom:auto-entities
                  card:
                    type: entities 
                  filter:
                      include:
                        - entity_id: "sensor.pi_hole_*"      
      - type: entities
        entities:
          - entity: automation.battery_persistent_notification
            tap_action: 
              action: call-service
              service: browser_mod.popup
              service_data:
                deviceID: this
                title: Batteriestatus
                card:
                  type: custom:auto-entities
                  card:
                    type: entities 
                  filter:
                    include:
                      - entity_id: "sensor.*_battery_level"
                        options:
                          type: custom:battery-entity-row
                    exclude:
                      - entity_id: "*iphone*"
                      - entity_id: "*ipad*"
          - type: custom:fold-entity-row
            head:
              type: section
              label: Einstellungen
            padding: 5
            entities:
              - entity: input_number.battery_alert
                name: Grenzwert
                tap_action: 
                  action: none
              - entity: script.battery_persistent_notification_clear
                tap_action: 
                  action: toggle
      # - type: custom:vertical-stack-in-card
      #   horizontal: true
      #   cards:
      #     - type: gauge
      #       name: CPU
      #       unit: '%'
      #       entity: sensor.processor_use
      #       severity:
      #         green: 0
      #         yellow: 45
      #         red: 85
      #     - type: gauge
      #       name: Memory
      #       unit: '%'
      #       entity: sensor.memory_use_percent
      #       severity:
      #         green: 0
      #         yellow: 75
      #         red: 90
      #     - type: gauge
      #       name: Swap
      #       unit: '%'
      #       entity: sensor.swap_use_percent
      #       severity:
      #         green: 0
      #         yellow: 45
      #         red: 85
      #     - type: gauge
      #       name: Temp
      #       unit: '°'
      #       entity: sensor.cpu_temperature
      #       severity:
      #         green: 0
      #         yellow: 75
      #         red: 85
      #     - type: gauge
      #       name: Disk
      #       unit: '%'
      #       entity: sensor.disk_use_percent
      #       severity:
      #         green: 0
      #         yellow: 45
      #         red: 85
      - type: glance
        columns: 4
        show_name: false
        entities:
          - entity: sensor.processor_use
            name: CPU   
            style: |
                :host {
                  color: 
                  {% if (states.sensor.processor_use.state | int) > 30 %}
                    red
                  {% endif %}
                  ;
                }     
          - entity: sensor.memory_use_percent
            name: Memory
          - entity: sensor.disk_use_percent
            name: Disk
          - entity: sensor.swap_use_percent
            name: Swap
            icon: mdi:harddisk-plus            
          - entity: sensor.cpu_temperature
            name: CPU Temp
            style: |
                :host {
                  color: 
                  {% if (states.sensor.cpu_temperature.state | int) > 70 %}
                    red
                  {% endif %}
                  ;
                }
            icon: mdi:thermometer
          - entity: sensor.memory_use
            name: Memory
          - entity: sensor.disk_use
            name: Disk
          - entity: sensor.online_time
            name: Zeit
            icon: mdi:home-assistant
          - entity: sensor.last_boot
            icon: mdi:raspberry-pi
      - type: glance
        columns: 4
        show_name: false
        entities:
          - sensor.net_download_max
          - sensor.net_download_cur
          - sensor.fritz_netmonitor
          - sensor.net_uptime
          - sensor.net_upload_max
          - sensor.net_upload_cur
          - entity: sensor.wireguard_iphonepro
            icon: mdi:cellphone-iphone
          - entity: sensor.wireguard_ipad
            icon: mdi:tablet-ipad
      - type: entities
        show_header_toggle: false
        entities:
          - entity:  sensor.updater_core
            type: custom:multiple-entity-row
            name: Update Core
            show_state: false
            icon: mdi:update
            entities:
              - attribute: current_version
                name: Installiert
              - attribute: newest_version
                name: Verfügbar
            tap_action: 
              action: call-service
              service: browser_mod.navigate
              service_data: 
                navigation_path: /hassio
                deviceID: this
          - entity:  sensor.updater_supervisor
            type: custom:multiple-entity-row
            name: Update Supervisor
            icon: mdi:update
            show_state: false
            entities:
              - attribute: current_version
                name: Installiert
              - attribute: newest_version
                name: Verfügbar
              - attribute: addons
                name: Addons
            tap_action: 
              action: call-service
              service: browser_mod.navigate
              service_data: 
                navigation_path: /hassio
                deviceID: this
          - entity: sensor.hacs
            name: Hacs Updates
            tap_action: 
              action: call-service
              service: browser_mod.navigate
              service_data: 
                navigation_path: /hacs
                deviceID: this
      - type: entities
        show_header_toggle: false
        entities:
          - entity: sensor.samba_backup
            icon: mdi:content-save-all
            type: custom:multiple-entity-row
            secondary_info:
              attribute: last_backup
            tap_action: 
              action: call-service
              service: browser_mod.popup
              service_data:
                deviceID: this
                title: Status
                card:
                  type: entities
                  entities:
                    - attribute: backups_local
                      entity: sensor.samba_backup
                      icon: 'mdi:file-outline'
                      name: Local Backups
                      type: attribute
                    - attribute: backups_remote
                      entity: sensor.samba_backup
                      icon: 'mdi:file-move-outline'
                      name: Remote Backups
                      type: attribute
                    - attribute: total_backups_succeeded
                      entity: sensor.samba_backup
                      icon: 'mdi:file-check-outline'
                      name: Succeded Backups
                      type: attribute
                    - attribute: total_backups_failed
                      entity: sensor.samba_backup
                      icon: 'mdi:file-cancel-outline'
                      name: Failed Backups
                      type: attribute
                    - attribute: last_backup
                      entity: sensor.samba_backup
                      icon: 'mdi:file-clock-outline'
                      name: Last Backup
                      type: attribute     
      - type: entities
        entities:
          - type: "custom:paper-buttons-row"
            buttons:
              - icon: mdi:map-outline 
                name: Karte
                tap_action: 
                  action: call-service
                  service: browser_mod.navigate
                  service_data: 
                    navigation_path: /map
                    deviceID: this
              - icon: mdi:zigbee
                name: Phoscon
                tap_action: 
                  action: call-service
                  service: browser_mod.navigate
                  service_data: 
                    navigation_path: /lovelace-phoscon/phoscon
                    deviceID: this   
              - icon: mdi:home-circle-outline
                name: homebridge
                tap_action: 
                  action: call-service
                  service: browser_mod.navigate
                  service_data: 
                    navigation_path: /lovelace-homebridge/homebridge
                    deviceID: this   