- binary_sensor:
  - name: presence
    unique_id: presence
    device_class: presence
    state: >
        {% if is_state('person.wolfgang', 'home') or is_state('person.christina', 'home') %}
          on
        {% else %}
          off
        {% endif %}

  - name: bosch_home_connect
    unique_id: bosch_home_connect
    device_class: problem
    state: "{{ states('sensor.home_connect_status')|lower not in ['unknown','unavailable','none', 'blocked'] }}"

#### Update Senors ####
  - name: updater_hacs
    unique_id: updater_hacs
    device_class: problem
    state: "{{ states('sensor.hacs')|int(0) > 0 }}"
    availability: "{{ states('sensor.hacs')|lower not in ['unknown','unavailable','none'] }}"

  - name: docker_update
    unique_id: docker_update
    device_class: update
    state: >
        {% if is_state('update.wud_container_local_deconz', 'on') 
            or is_state('update.wud_container_local_dockerproxy', 'on') 
            or is_state('update.wud_container_local_mariadb', 'on') 
            or is_state('update.wud_container_local_nginx_proxy_manager', 'on') 
            or is_state('update.wud_container_local_pihole', 'on') 
            or is_state('update.wud_container_local_vaultwarden', 'on') 
            or is_state('update.wud_container_local_wud', 'on') 
            or is_state('update.wud_container_local_mosquitto', 'on') 
            or is_state('update.wud_container_local_homeassistant', 'on') 
            or is_state('update.wud_container_local_dnscrypt', 'on') 
            or is_state('update.wud_container_local_portainer', 'on') 
            %}
          on
        {% else %}
          off
        {% endif %}

  - name: nextcloud_update
    unique_id: nextcloud_update
    device_class: update
    state: "{{ states('sensor.nextcloud_release')   > states ('sensor.nextcloud_system_version') }}"